module PrintLocal;

import * from LocalDC;

interface IPrinter {
    Unit print(String b);
}

class Printer1 implements IPrinter {
    {
      println("print1 is up");
    }
    Unit print(String b) {
        println(concatenate("print1 says", b));
    }
}

class Printer2 implements IPrinter {
    {
      println("print2 is also up");
    }
    Unit print(String b) {
        println(concatenate(concatenate("print2 says", b),"!!"));
        this.localMethod(b);
    }
    Unit localMethod(String b) {
        println(b);
        println("in local method");
    }
}



{
  println("mplo");

  IDC dc = new local LocalDC(9001); // local for now, to make it need no threadDelay

  IPrinter o = dc spawns Printer1();

  o ! print("hello");

  o = dc spawns Printer2();

  Fut<Unit> f = o ! print("hi there");
  await f?;
}